<?xml version="1.0" encoding="UTF-8"?>
<project name="pathashala" default="runjUnit" basedir=".">
     
   
     <path id="test.compile.classpath" description="classpath for compiling test-sources">
          <pathelement location="out/classes" />
          <pathelement location="lib/junit-4.12.jar" />
          <pathelement location="lib/system-rules-1.12.0.jar" />
          <pathelement location="lib/mockito-all-1.9.5.jar" />
     </path>
     <path id="test.runtime.classpath" description="classpath for running junit-tests">
          <pathelement location="out/testclasses" />
          <pathelement location="lib/junit-4.12.jar" />
          <pathelement location="lib/system-rules-1.12.0.jar" />
          <pathelement location="lib/mockito-all-1.9.5.jar" />
          <pathelement location="lib/hamcrest-all-1.1.jar" />
     </path>
     <target name="clean">
          <delete includeEmptyDirs="true" failonerror="false">
               <fileset dir="out" />
          </delete>
     </target>
 
     <target name="prepare" depends="clean">
          <mkdir dir="out" />
          <mkdir dir="out/classes" />
          <mkdir dir="out/testclasses" />
     </target>
 
     <target name="compile.sources" depends="prepare">
          <javac srcdir="src" destdir="out/classes" debug="on" fork="true" includeantruntime="no" />
     </target>
 
     <target name="compile.tests" depends="compile.sources">
          <javac classpathref="test.compile.classpath" srcdir="test" destdir="out/testclasses" debug="on" fork="true" includeantruntime="no" />
     </target>
 
     <target name="runjUnit" depends="compile.tests">
          <junit fork="yes" forkmode="once" printsummary="yes" haltonfailure="yes" showoutput="true">
               <classpath refid="test.runtime.classpath" />
               <formatter type="plain" usefile="false" />
	       <batchtest todir="out/reports/junit">
                    <fileset dir="test">
                         <include name="**/*Test.java" />
                    </fileset>
               </batchtest>
          </junit>
     </target>
</project>
